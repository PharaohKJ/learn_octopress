---
layout: post
title: "『KITハッカソン勉強会』に参加"
date: 2016-09-04 05:33:15 +0900
comments: true
published: true
categories: 
---

2016-09-03 Sat に[KITハッカソン勉強会(KIT, さくらクラウド, PFU 共催) - KIT ハッカソン | Doorkeeper](https://kithackation.doorkeeper.jp/events/51290) に参加した。

サブタイトルは「IoT ハッカソン、MQTT (および、そのセキュリティ)について考える」ではあったが、結局は「ガッツリさくらインターネットさまのハンズオンをやった」 & 「RabbitMQのチュートリアルをやって機能を学ぶ」という感じの内容であった。

## 私の狙い

- pomo のアップグレード
- pomo on ラズパイの完成
- 上記を通じて AWS IoT MQTT がラズパイ上でできることを確認
- そのセキュリティモデルを説明できるようになっておく
- MQTTの事例を皆様と共有し、踏まえてどうするべきかを考える

## 結果

pomo、ラズパイ、AWS IoT はほとんど触れず。結局 MQTT の事例をお話しただけ。MQTTハンズオンも、まぁもう1万回はみた & やったであろう RabbitMQ チュートリアルだったので LT 資料をまとめていてしまった。

さくらインターネットさんのクラウドハンズオンがよくて(というか、今まで [ha4go](https://kanazawa.ha4go.net/) とかで使ってたけど、チュートリアルすらまともによまずに徒手空拳でやってた)、ついていった。

内容としては、まずグローバルからつながるサーバを1台たて、それをGatewayにしたサーバを1台たて、スイッチでつなげるというもの。あとDocker、composeもやった(さすが前佛さんやで)。

ハッキリいって、既存のIaaSでやりたいことはこれでほとんどできるな。ファイアウォールルールぐらいまで行って欲しかったがまぁメンツ的に無理であろう。会終了後に「こんなんでサーバできます。っていうの、学生がいきなりやると、何が便利なのかさっぱりわからず、伝わらず、おっさんだけが『便利だろ？どやぁ？』ってことになってんじゃないかなぁ」と感じた。

「MQTTを運用に使ってる人は挙手！」 → 挙手なし。この情報も収穫だったかもしれない。

## 反省

### ラズパイのモビリティをあげる

自宅では DHCP で MAC みて固定でいろいろ払い出ししているが、外部に持ちだした時

- 無線LANの設定を注入する方法
- 注入した結果、俺はここだとディスカバリする方法

を確立させておかないと、セットアップしてる間に1時間はすぎる。次はなんとかしたい。

あっ、あと、ずっと自分のをラズパイ2あたりだと思ってたのに「うおっ、ラズパイ初代久しぶりにみました」みたいなこと言われてビビる。そしてちゃんと初代だった。


### どうして巨大なインスタンス1台ではダメか? を説明できなかった

これについては先日の AWS 勉強会で自分がまとめたくせに、そういう質問が飛んだ時に「え? 多いほうがいいのは当たり前じゃん?」という気持ちになってしまったが、Docker や クラスタ管理ツールの台頭する意味など、正しく説明できなかったのはよくない。


### MQTT、及びその実装のセキュリティモデルを説明できない

「MQTT over TLS」「AWS IoT の認証モデル」などをざくっと概要しか知らず、セキュリティセキュリティ言われて自分のなかで落とし込めてん買ったなと反省。まともな議論になった場合、ついていけなかったであろう。まぁ今回はほんとなんかよくわからないとてもそこまでいく感じはなかった。よくわからない、というのは、何を議論したいのかわからんという感じ。机の上に乗る資料、現実の抱える問題が足りなかったんじゃないか。

## 資料

- [wslash/zabbix3](https://github.com/wslash/zabbix3)
- [MQTTプロジェクト - PukiWiki Plus!](http://www.kitnet.org/hackathon/index.php?MQTT%E3%83%97%E3%83%AD%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88)

